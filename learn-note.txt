一、Git 基础知识
1.1 什么是 Git？
Git 是一个分布式版本控制系统，用于跟踪文件的变化并协调多人协作开发。

1.2 Git 的核心概念
仓库（Repository）：存放项目代码和历史记录的地方

提交（Commit）：一次代码变更的记录

分支（Branch）：独立的开发线路

合并（Merge）：将不同分支的修改合并到一起

远程仓库（Remote）：存放在服务器上的仓库副本

1.3 安装 Git
Windows 系统
访问 Git 官网

下载 Windows 版本安装程序

安装时注意勾选"Git Bash"和"添加到PATH"

验证安装

git --version
二、Git 配置
2.1 用户信息配置

# 设置用户名和邮箱（用于标识提交者）
git config --global user.name "Your Name"
git config --global user.email "email@example.com"

# 查看配置
git config --list
2.2 常用配置优化

# 设置默认分支为 main
git config --global init.defaultBranch main

# 设置命令行颜色高亮
git config --global color.ui auto

# 设置别名（简化命令）
git config --global alias.st status
git config --global alias.co checkout
git config --global alias.br branch
git config --global alias.ci commit
三、本地仓库操作
3.1 创建和初始化仓库

# 初始化新仓库
git init

# 克隆现有仓库
git clone <repository-url>
3.2 文件状态管理

# 查看文件状态
git status

# 添加文件到暂存区
git add <file>           # 添加单个文件
git add .               # 添加所有文件
git add *.js            # 添加所有js文件

# 提交更改
git commit -m "提交说明"

# 修改最后一次提交
git commit --amend
3.3 查看历史记录

# 查看提交历史
git log
git log --oneline       # 简洁显示
git log --graph         # 图形化显示分支
git log -p              # 显示具体修改内容

# 查看特定文件的修改历史
git log <file-path>

# 查看工作区与暂存区的差异
git diff
git diff --staged      # 查看暂存区与仓库的差异
四、分支管理
4.1 分支基本操作

# 查看分支
git branch              # 查看本地分支
git branch -a           # 查看所有分支（包括远程）

# 创建分支
git branch <branch-name>

# 切换分支
git checkout <branch-name>

# 创建并切换分支
git checkout -b <branch-name>

# 删除分支
git branch -d <branch-name>     # 安全删除（已合并）
git branch -D <branch-name>     # 强制删除（未合并）

# 重命名分支
git branch -m <old-name> <new-name>
4.2 分支合并

# 合并分支（将feature分支合并到当前分支）
git merge feature

# 使用rebase变基
git rebase main
4.3 分支策略（Git Flow）

main/master    # 主分支，稳定版本
develop        # 开发分支
feature/*      # 功能分支
release/*      # 发布分支
hotfix/*       # 热修复分支
五、远程仓库操作
5.1 配置远程仓库

# 添加远程仓库
git remote add origin <repository-url>

# 查看远程仓库
git remote -v

# 修改远程仓库URL
git remote set-url origin <new-url>

# 删除远程仓库
git remote remove origin
5.2 推送和拉取

# 推送本地提交到远程
git push origin <branch-name>
git push -u origin main    # -u 设置上游分支

# 拉取远程更新
git pull origin <branch-name>

# 获取远程更新但不合并
git fetch origin
5.3 SSH 密钥配置

# 生成SSH密钥
ssh-keygen -t ed25519 -C "your_email@example.com"

# 复制公钥到剪贴板
# Windows:
clip < ~/.ssh/id_ed25519.pub
# macOS:
pbcopy < ~/.ssh/id_ed25519.pub

# 测试连接
ssh -T git@github.com
六、高级操作
6.1 撤销操作

# 撤销工作区修改
git checkout -- <file>

# 撤销暂存区的修改（取消add）
git reset HEAD <file>

# 撤销最近的提交
git reset --soft HEAD~1     # 保留修改在暂存区
git reset --mixed HEAD~1    # 保留修改在工作区（默认）
git reset --hard HEAD~1     # 彻底删除修改

# 撤销特定的提交
git revert <commit-id>
6.2 储藏（Stash）

# 储藏当前修改
git stash

# 查看储藏列表
git stash list

# 应用最近的储藏
git stash apply

# 应用并删除储藏
git stash pop

# 删除储藏
git stash drop stash@{0}
6.3 标签管理

# 创建标签
git tag v1.0.0
git tag -a v1.0.0 -m "版本1.0.0发布"

# 查看标签
git tag

# 推送标签到远程
git push origin v1.0.0
git push origin --tags     # 推送所有标签

# 删除标签
git tag -d v1.0.0
git push origin --delete v1.0.0
6.4 子模块（Submodule）

# 添加子模块
git submodule add <repository-url> <path>

# 克隆包含子模块的项目
git clone --recursive <repository-url>

# 更新子模块
git submodule update --init --recursive
七、常见问题与解决方案
7.1 连接问题

# SSH连接被拒绝（端口22）
# 解决方案1：使用443端口
# 在 ~/.ssh/config 中添加：
Host github.com
    HostName ssh.github.com
    User git
    Port 443

# 解决方案2：使用HTTPS协议
git remote set-url origin https://github.com/user/repo.git
7.2 推送错误

# 错误：non-fast-forward
# 原因：远程有本地没有的内容
# 解决方案：
git pull origin main --allow-unrelated-histories
git push origin main

# 或强制推送（谨慎使用）
git push -u origin main --force
7.3 换行符问题

# 警告：LF will be replaced by CRLF
# 解决方案：创建 .gitattributes 文件
* text=auto
*.sh text eol=lf
*.bat text eol=crlf
7.4 大文件推送超时

# 错误：RPC failed; HTTP 408
# 解决方案1：分批推送
git add .
git commit -m "提交说明"
git push origin main --force

# 解决方案2：使用.gitignore过滤大文件
# 创建.gitignore文件，忽略编译产物等大文件
7.5 分支名冲突

# 错误：src refspec master does not match any
# 原因：GitHub默认分支为main，本地为master
# 解决方案：
git branch -m master main      # 重命名分支
git push -u origin main        # 推送main分支
八、最佳实践
8.1 提交规范

feat: 新增功能
fix: 修复bug
docs: 文档更新
style: 代码格式调整
refactor: 代码重构
test: 测试相关
chore: 构建过程或辅助工具的变动
8.2 .gitignore 文件示例

# 编译产物
*.class
*.exe
*.o
*.so
*.dll

# 包文件
*.jar
*.war
*.ear
*.zip
*.tar.gz

# 日志文件
*.log

# IDE文件
.vscode/
.idea/
*.swp
*.swo

# 操作系统文件
.DS_Store
Thumbs.db

# 环境文件
.env
.env.local
8.3 Git 工作流程
开始新功能

git checkout main
git pull origin main
git checkout -b feature/new-feature
开发过程中
git add .
git commit -m "feat: 添加新功能"
完成功能

git checkout main
git pull origin main
git checkout feature/new-feature
git rebase main
git checkout main
git merge feature/new-feature
git push origin main
九、学习资源推荐
9.1 在线教程
Pro Git 中文版 - Git 官方书籍

Git 教程 - 廖雪峰 - 中文入门教程

GitHub Learning Lab - 交互式学习平台

9.2 书籍推荐
《Pro Git》 - Scott Chacon（免费在线阅读）

《Git版本控制管理》 - Jon Loeliger

《Git团队协作》 - Emma Jane Hogbin Westby

9.3 工具推荐
Git GUI 客户端

GitHub Desktop

Sourcetree

GitKraken

IDE 集成

VS Code Git 扩展

IntelliJ IDEA Git 工具

Eclipse EGit

在线练习

Learn Git Branching（可视化学习分支）

十、实践心得
10.1 学习过程总结
从概念入手：先理解 Git 的工作原理，再学习命令

多动手实践：每个命令都要亲手尝试，理解其效果

善用帮助：git help <command> 或 git <command> --help

记录问题：遇到问题及时记录，方便回顾和分享

10.2 常见误区
过度使用强制推送：git push --force 可能覆盖他人工作

忽略分支管理：长期在单一分支开发，导致代码混乱

提交信息不规范：随意的提交信息难以追溯修改原因

不处理冲突：遇到冲突就回避，导致代码不一致

10.3 团队协作建议
制定规范：统一分支命名、提交格式等

代码审查：通过 Pull Request 进行代码审查

定期同步：每天开始工作前先拉取最新代码

及时沟通：遇到冲突及时与相关成员沟通

十一、项目实践案例
11.1 个人项目
# 初始化个人项目
git init
git add .
git commit -m "初始提交"
git remote add origin https://github.com/username/project.git
git branch -M main
git push -u origin main
11.2 团队项目
# 参与团队项目
git clone https://github.com/team/project.git
cd project
git checkout -b feature/my-feature
# 开发...
git add .
git commit -m "feat: 添加新功能"
git push origin feature/my-feature
# 创建 Pull Request
11.3 开源贡献
# 贡献开源项目
# 1. Fork 项目
# 2. 克隆自己的 Fork
git clone https://github.com/yourname/project.git
# 3. 添加上游仓库
git remote add upstream https://github.com/original/project.git
# 4. 同步更新
git fetch upstream
git merge upstream/main
# 5. 创建功能分支并开发
